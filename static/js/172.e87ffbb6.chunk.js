"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[172],{172:(s,e,t)=>{t.r(e),t.d(e,{default:()=>_});var a=t(43);const i="ProfileInfo_discript__LMVYM";var r=t(960),o=t(579);const n=a.memo((s=>{const[e,t]=(0,a.useState)(!0),[i,r]=(0,a.useState)("");(0,a.useEffect)((()=>{r(s.status)}),[s.status]);const n=async()=>{if(t(!e),!e)try{await s.updateStatus(i)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430:",a),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430.")}},c=s=>{r(s.target.value)};let l;return l=e?(0,o.jsx)("div",{children:(0,o.jsx)("span",{onDoubleClick:()=>{t(!1)},children:i})}):(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{autoFocus:!0,value:i,onChange:c}),(0,o.jsx)("button",{onClick:n,children:"confirm"})]}),l})),c=a.memo((s=>s.profile?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:(0,o.jsx)("img",{src:s.profile.photos.large})}),(0,o.jsx)("div",{className:i,children:(0,o.jsx)("img",{src:s.profile.photos.small})}),(0,o.jsx)("div",{children:(0,o.jsx)(n,{status:s.status,updateStatus:s.updateStatus})}),(0,o.jsxs)("div",{children:["Contacts :",(0,o.jsxs)("div",{children:["VK: ",s.profile.contacts.vk]}),(0,o.jsxs)("div",{children:["FACEBOOK: ",s.profile.contacts.facebook]}),(0,o.jsxs)("div",{children:["GITHUB: ",s.profile.contacts.github]}),(0,o.jsxs)("div",{children:["TWITTE: ",s.profile.contacts.twitter]}),(0,o.jsxs)("div",{children:["YOUTUBE: ",s.profile.contacts.youtube]})]})]}):(0,o.jsx)(r.A,{})));var l=t(3),d=t(302);const u={item:"MyPosts_item__N38E3",active:"MyPosts_active__z6RuA",passive:"MyPosts_passive__d9eyS",btn:"MyPosts_btn__6mCXH",parentcontainer:"MyPosts_parentcontainer__DczHS",textarea:"MyPosts_textarea__JwR+N"},p="Posts_active__n5LVx",x=s=>(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:p,children:[(0,o.jsx)("img",{src:"https://i.pinimg.com/originals/5f/a0/d6/5fa0d60a2e9e8ea2abb7af6c446c035a.jpg"}),(0,o.jsxs)("span",{children:[s.Message," "]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{children:"Like"})," ",s.likeCount]})]})});var f=t(858);const j=a.memo((s=>{console.log("render");const{register:e,handleSubmit:t,formState:{errors:a},reset:i}=(0,f.mN)();let r=s.profilePage.postsData.map((s=>(0,o.jsx)(x,{Message:s.text,likeCount:s.likesCount})));return(0,o.jsxs)("div",{className:`${u.item} ${u.active}`,children:[(0,o.jsxs)("form",{onSubmit:t((e=>{console.log("\u0414\u0430\u043d\u043d\u044b\u0435:",e),e.posts.trim()?(s.addPost(e.posts),i()):i()})),children:[(0,o.jsx)("div",{className:u.parentcontainer,children:(0,o.jsx)("textarea",{...e("posts",{required:"\u041f\u043e\u0441\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"}),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442...",className:u.textarea})}),(0,o.jsxs)("div",{className:u.parentcontainer,children:[(0,o.jsx)("button",{type:"submit",className:u.btn,children:" Add POST "}),(0,o.jsx)("button",{type:"submit",className:u.btn,children:"Remove"})]})]}),(0,o.jsx)("div",{className:u.posts,children:r})]})})),h=(0,l.Ng)((s=>({profilePage:s.profilePage})),(s=>({addPost:e=>{s((0,d.oL)(e))}})))(j);var v=t(767);const m=s=>s.isAuth?(0,o.jsxs)("div",{children:[(0,o.jsx)(c,{profile:s.profile,updateStatus:s.updateStatus}),(0,o.jsx)(h,{})]}):(0,o.jsx)(v.C5,{to:"/login",replace:!0});var g=t(567);const _=(0,t(923).Zz)((0,l.Ng)((s=>{var e;return{profile:s.profilePage.info,status:s.profilePage.status,ID:(null===(e=s.profilePage.info)||void 0===e?void 0:e.userId)||null}}),{getProfileInfo:d.qk,getStatus:d.BS,updateStatus:d.yB}),g.s)((s=>{const e=(0,v.g)(),t=(0,v.Zp)();return(0,a.useEffect)((()=>{let a=e.userId;a||(a=32217,a||t("/login")),s.getProfileInfo(a),s.getStatus(a)}),[e.userId,t,s.ID]),(0,o.jsx)(m,{...s,profile:s.profile,status:s.status,updateStatus:s.updateStatus})}))}}]);
//# sourceMappingURL=172.e87ffbb6.chunk.js.map